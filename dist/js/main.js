(()=>{"use strict";const e=({formId:e})=>{const t=document.getElementById(e),o=document.createElement("div"),r=t.querySelector(".formDiscount-name"),s=t.querySelector(".formDiscount-phone");try{if(!t)throw new Error("Верните форму");t.addEventListener("submit",(e=>{e.preventDefault(),!/[^А-яA-z\s]/g.test(r.value)&&!/[^\d\+]/g.test(s.value)&&s.value.length<=16&&""!=s.value.trim()&&""!=r.value.trim()?(()=>{const e=t.querySelectorAll("input"),r=new FormData(t),s={};var n;o.textContent="Загрузка",o.style="color: #5d5d5d",t.append(o),r.forEach(((e,t)=>{s[t]=e})),(n=s,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{o.textContent="Спасибо. С вами свяжется наш менеджер",e.forEach((e=>{e.value=""})),setTimeout((()=>{o.textContent=""}),3e3)})).catch((e=>{o.textContent="Ошибка..."}))})():alert("Данные не валидны")}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelector("body"),t=document.querySelector(".header-modal"),o=document.querySelector(".overlay"),r=document.querySelector(".services-modal"),s=e=>{o.style.display="none","header"==e&&t.classList.add("header-modal"),"service"==e&&r.classList.add("services-modal")},n=e=>{o.style.display="flex","header"==e&&t.classList.remove("header-modal"),"service"==e&&r.classList.remove("services-modal")};e.addEventListener("click",(e=>{e.target.closest("#header .button")&&(e.preventDefault(),n("header")),(e.target.closest(".header-modal__close")||e.target.closest(".overlay"))&&(e.preventDefault(),s("header")),e.target.closest(".service-button")&&(e.preventDefault(),n("service")),(e.target.closest(".services-modal__close")||e.target.closest(".overlay"))&&(e.preventDefault(),s("service"))}))})(),(()=>{const e=document.querySelector(".benefits-wrap"),t=document.querySelectorAll(".benefits__item");let o=0;e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".benefits__arrow")&&("benefits__item-active",t[o].classList.remove("benefits__item-active"),e.target.matches("#arrow-right")?o++:e.target.matches("#arrow-left")&&o--,o>=t.length&&(o=0),o<0&&(o=t.length-1),t[o].classList.add("benefits__item-active"))}))})(),(e=>{const t=document.querySelectorAll(".days"),o=document.querySelectorAll(".hours"),r=document.querySelectorAll(".minutes"),s=document.querySelectorAll(".seconds"),n=()=>{let e=(()=>{let e=(new Date("18 april 2022").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/3600/24),hours:Math.floor(e/3600%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();const a=[e.days,e.hours,e.minutes,e.seconds];a.forEach(((e,t,o)=>{e<10&&(o[t]="0"+e)})),t.forEach((e=>{e.textContent=a[0]})),o.forEach((e=>{e.textContent=a[1]})),r.forEach((e=>{e.textContent=a[2]})),s.forEach((e=>{e.textContent=a[3]})),e.timeRemaining>0?setTimeout(n,1e3):e.timeRemaining<=0&&(t.textContent="00",o.textContent="00",r.textContent="00",s.textContent="00")};n()})(),e({formId:"formDiscount"}),e({formId:"formDiscount2"})})();