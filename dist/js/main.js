(()=>{"use strict";const e=({formId:e,total:t})=>{const o=document.getElementById(e),l=document.createElement("div"),r=document.querySelector("#calc-total"),c=o.querySelector(".formName"),n=o.querySelector(".formPhone");try{if(!o)throw new Error("Верните форму");o.addEventListener("submit",(e=>{e.preventDefault(),!/[^А-яA-z\s]/g.test(c.value)&&!/[^\d\+]/g.test(n.value)&&n.value.length<=16&&""!=n.value.trim()&&""!=c.value.trim()&&" "!=c.value[0]?(()=>{const e=o.querySelectorAll("input"),t=new FormData(o),c={};var n;l.textContent="Загрузка",l.style="color: #5d5d5d",o.append(l),t.forEach(((e,t)=>{c[t]=e})),r&&(c["calc-total"]=r.value),(n=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{l.textContent="Спасибо. С вами свяжется наш менеджер",e.forEach((e=>{e.value=""})),setTimeout((()=>{l.textContent=""}),3e3)})).catch((e=>{l.textContent="Ошибка..."}))})():alert("Данные не валидны")}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelector("body"),t=document.querySelector(".header-modal"),o=document.querySelector(".overlay"),l=document.querySelector(".services-modal"),r=e=>{o.style.display="none","header"==e&&t.classList.add("header-modal"),"service"==e&&l.classList.add("services-modal")},c=e=>{o.style.display="flex","header"==e&&t.classList.remove("header-modal"),"service"==e&&l.classList.remove("services-modal")};e.addEventListener("click",(e=>{e.target.closest("#header .button")&&(e.preventDefault(),c("header")),(e.target.closest(".header-modal__close")||e.target.closest(".overlay"))&&(e.preventDefault(),r("header")),e.target.closest(".service-button")&&(e.preventDefault(),c("service")),(e.target.closest(".services-modal__close")||e.target.closest(".overlay"))&&(e.preventDefault(),r("service"))}))})(),(()=>{const e=document.querySelector(".services"),t=e.querySelectorAll(".col-md-12"),o=document.querySelector("#benefits"),l=o.querySelectorAll(".benefits__item");let r=0,c=1,n=0,a=1,s=2;const d=(e,t)=>{e[t].style="display: none"},u=(e,t)=>{e[t].style="display: flex"},i=(e,t)=>{e[t].style="display: block"};e.addEventListener("click",(e=>{e.preventDefault(),document.documentElement.offsetWidth<=576?(d(t,r),e.target.closest("#arrow-right")?r++:e.target.closest("#arrow-left")&&r--,r>=t.length&&(r=0),r<0&&(r=t.length-1),u(t,r)):(d(t,r),d(t,c),e.target.closest("#arrow-right")?(r+=2,c+=2):e.target.closest("#arrow-left")&&(r-=2,c-=2),r>=t.length&&(r=0),c>=t.length&&(c=1),r<0&&(r=t.length-2),c<0&&(c=t.length-1),u(t,r),u(t,c))})),o.addEventListener("click",(e=>{e.preventDefault(),document.documentElement.offsetWidth<=576?(d(l,n),e.target.closest(".benefits__arrow--right")?n++:e.target.closest(".benefits__arrow--left")&&n--,n>=l.length&&(n=0),n<0&&(n=l.length-1),i(l,n)):(d(l,n),d(l,a),d(l,s),e.target.closest(".benefits__arrow--right")?(n+=3,a+=3,s+=3):e.target.closest(".benefits__arrow--left")&&(n-=3,a-=3,s-=3),n>=l.length&&(n=0),a>=l.length&&(a=1),s>=l.length&&(s=2),n<0&&(n=l.length-3),a<0&&(a=l.length-2),s<0&&(s=l.length-1),i(l,n),i(l,a),i(l,s))}))})(),(e=>{const t=document.querySelectorAll(".days"),o=document.querySelectorAll(".hours"),l=document.querySelectorAll(".minutes"),r=document.querySelectorAll(".seconds"),c=()=>{let e=(()=>{let e=(new Date("18 april 2022").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/3600/24),hours:Math.floor(e/3600%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();const n=[e.days,e.hours,e.minutes,e.seconds];n.forEach(((e,t,o)=>{e<10&&(o[t]="0"+e)})),t.forEach((e=>{e.textContent=n[0]})),o.forEach((e=>{e.textContent=n[1]})),l.forEach((e=>{e.textContent=n[2]})),r.forEach((e=>{e.textContent=n[3]})),e.timeRemaining>0?setTimeout(c,1e3):e.timeRemaining<=0&&(t.textContent="00",o.textContent="00",l.textContent="00",r.textContent="00")};c()})(),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.getElementById("header");window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>=610?e.classList.remove("smooth-scroll-none"):e.classList.add("smooth-scroll-none"),e.addEventListener("click",(e=>{e.preventDefault(),t.scrollIntoView({block:"start",behavior:"smooth"})}))}))})(),(()=>{const e=document.querySelector("#calc"),t=document.querySelector("#calc-type"),o=document.querySelector("#calc-type-material"),l=document.querySelector("#calc-input"),r=document.getElementById("calc-total");if(e&&t&&o&&l&&r){const c=()=>{const e=+l.value;let c=+t.options[t.selectedIndex].value,n=+o.options[o.selectedIndex].value,a=0;c>0&&n>0&&e>0?(a=c*e*n,r.value=Math.floor(10*a)/10):a=0};e.addEventListener("input",(e=>{e.target!==t&&e.target!==l&&e.target!==o||(l.value=l.value.replace(/\D/g,""),c())}))}})(),(()=>{const e=document.querySelectorAll(".sertificate-document"),t=document.querySelectorAll(".img-document"),o=document.querySelector(".overlay");document.querySelector("body").addEventListener("click",(l=>{l.target.closest(".sertificate-document")&&(l.preventDefault(),e.forEach(((e,l)=>{t[l].style="display: flex",o.style.display="flex"}))),l.target.closest(".overlay")&&t.forEach((e=>{e.style="display: none"}))}))})(),e({formId:"formDiscount",total:"calc-total"}),e({formId:"formDiscount2",total:"calc-total"}),e({formId:"formCall",total:"calc-total"}),e({formId:"formCall2",total:"calc-total"}),e({formId:"formApplication",total:"calc-total"})})();