(()=>{"use strict";const e=({formId:e})=>{const t=document.getElementById(e),o=document.createElement("div"),n=t.querySelector(".formDiscount-name"),r=t.querySelector(".formDiscount-phone");try{if(!t)throw new Error("Верните форму");t.addEventListener("submit",(e=>{e.preventDefault(),!/[^А-яA-z\s]/g.test(n.value)&&!/[^\d\+]/g.test(r.value)&&r.value.length<=16&&""!=r.value.trim()&&""!=n.value.trim()?(()=>{const e=t.querySelectorAll("input"),n=new FormData(t),r={};var a;o.textContent="Загрузка",o.style="color: #5d5d5d",t.append(o),n.forEach(((e,t)=>{r[t]=e})),(a=r,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((t=>{o.textContent="Спасибо. С вами свяжется наш менеджер",e.forEach((e=>{e.value=""})),setTimeout((()=>{o.textContent=""}),3e3)})).catch((e=>{o.textContent="Ошибка..."}))})():alert("Данные не валидны")}))}catch(e){console.log(e.message)}};(()=>{const e=document.querySelector("body"),t=document.querySelector(".header-modal"),o=document.querySelector(".overlay"),n=()=>{t.classList.toggle("header-modal")};e.addEventListener("click",(e=>{e.target.closest("#header .button")&&(e.preventDefault(),n(),o.style.display="flex"),(e.target.closest(".header-modal__close")||e.target.closest(".overlay"))&&(e.preventDefault(),n(),o.style.display="none")}))})(),(()=>{const e=document.querySelector(".benefits-wrap"),t=document.querySelectorAll(".benefits__item");let o=0;e.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(".benefits__arrow")&&("benefits__item-active",t[o].classList.remove("benefits__item-active"),e.target.matches("#arrow-right")?o++:e.target.matches("#arrow-left")&&o--,o>=t.length&&(o=0),o<0&&(o=t.length-1),t[o].classList.add("benefits__item-active"))}))})(),(e=>{const t=document.querySelectorAll(".days"),o=document.querySelectorAll(".hours"),n=document.querySelectorAll(".minutes"),r=document.querySelectorAll(".seconds"),a=()=>{let e=(()=>{let e=(new Date("18 april 2022").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,days:Math.floor(e/3600/24),hours:Math.floor(e/3600%24),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();const s=[e.days,e.hours,e.minutes,e.seconds];s.forEach(((e,t,o)=>{e<10&&(o[t]="0"+e)})),t.forEach((e=>{e.textContent=s[0]})),o.forEach((e=>{e.textContent=s[1]})),n.forEach((e=>{e.textContent=s[2]})),r.forEach((e=>{e.textContent=s[3]})),e.timeRemaining>0?setTimeout(a,1e3):e.timeRemaining<=0&&(t.textContent="00",o.textContent="00",n.textContent="00",r.textContent="00")};a()})(),e({formId:"formDiscount"}),e({formId:"formDiscount2"})})();